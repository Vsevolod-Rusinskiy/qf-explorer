# QF Block Explorer Planning

https://github.com/QuantumFusion-network/spec/issues/244

Этот репозиторий содержит документацию по планированию разработки блок-эксплорера для блокчейна QuantumFusion Network.

## Архитектура проекта

```
+-----------------------------------------------------------------------+
|                          User Interface (UI)                          |
|         (React/Next.js, Mobile Apps, or 3rd-Party Consumers)         |
+-----------------------------------------------------------------------+
                                 |
                                 | (GraphQL/WebSockets/REST)
                                 ▼
+-----------------------------------------------------------------------+
|                       Hasura GraphQL & APIs                          |
|       (Auto-generated schema, real-time subscriptions, rate limiting) |
+-----------------------------------------------------------------------+
                                 |
                                 |
                                 ▼
+-----------------------------------------------------------------------+
|                   PostgreSQL Database (Explorer Data)                 |
|            (Blocks, Txs, Events, Accounts, Staking, Contracts)        |
+-----------------------------------------------------------------------+
                                 |
                                 |
                                 ▼
+-----------------------------------------------------------------------+
|                        Squid SDK Indexer Layer                        |
|      (Subscribes to QFN, processes blocks & extrinsics, stores in DB) |
+-----------------------------------------------------------------------+
                                 |
                                 |
                                 ▼
+-----------------------------------------------------------------------+
|                   QFN Nodes & Polkadot Finality Data                  |
|         (0.1s blocks, NPoS staking, SPIN consensus, Polkadot bridging)|
+-----------------------------------------------------------------------+
```

## Содержимое

- **[original-issue.md](original-issue.md)** - оригинальное описание требований к MVP блок-эксплорера от команды QF. Включает полные требования, методологию, ожидаемые результаты, критерии успеха и информацию о DevNet.

- **[architecture-overview.md](architecture-overview.md)** - описание архитектуры блок-эксплорера и технологического стека.

- **[implementation-stages.md](implementation-stages.md)** - поэтапный план реализации базовой функциональности блок-эксплорера (без работы со смарт-контрактами, которая запланирована на следующий этап).

- **[user-journey.md](user-journey.md)** - подробное описание пользовательского пути в приложении с техническими деталями по использованию различных типов API (GraphQL, REST, WebSockets).

## Использование

Эти документы предназначены для планирования разработки демонстрационного прототипа блок-эксплорера для QuantumFusion Network. Они могут быть использованы как отправная точка для:

1. Понимания требований к полному MVP блок-эксплорера
2. Планирования разработки минимального прототипа
3. Оценки времени и ресурсов, необходимых для создания функционирующего прототипа

## Поэтапная реализация

Для эффективной разработки план реализации MVP разделен на несколько этапов:

### Этап 1 - Базовая функциональность (8-9 дней)
- Индексация и отображение блоков, транзакций и аккаунтов
- Базовый поиск и навигация
- Интерфейс с ручным обновлением данных
- Базовая защита API (CORS и rate limiting)

### Этап 2 - Работа со смарт-контрактами и безопасность (7-10 дней)
- Деплой смарт-контрактов
- Взаимодействие с функциями контрактов
- Отображение данных контрактов
- Авторизация пользователей (JWT)
- Защита маршрутов и API-эндпоинтов
- Управление доступом к функциям контрактов

Текущая документация по реализации в файле `implementation-stages.md` относится только к Этапу 1. Полный MVP согласно требованиям в `original-issue-ru.md` будет достигнут после реализации обоих этапов.

## Подключение к QF DevNet

Для подключения к DevNet QuantumFusion используйте следующие ресурсы:

- RPC эндпоинт: `wss://dev.qfnetwork.xyz/wss`
- Блок-эксплорер: [https://dev.qfnetwork.xyz/#/explorer](https://dev.qfnetwork.xyz/#/explorer)
- Фаусет (для получения тестовых токенов): [https://dev.qfnetwork.xyz/faucet.html](https://dev.qfnetwork.xyz/faucet.html)
- GitHub репозиторий с нодой: [https://github.com/QuantumFusion-network/qf-solochain](https://github.com/QuantumFusion-network/qf-solochain)
- Версия DevNet: v0.0.3

## Технологический стек

- **Фронтенд**: React/Next.js с TypeScript, Feature-Sliced Design (FSD) архитектура
  - Apollo Client для работы с GraphQL API (Hasura)
  - React Query для управления состоянием и запросами к REST API
  - Orval для автоматической генерации клиентов REST API
- **Бэкенд**: NestJS, TypeScript
  - Swagger для документации API и генерации OpenAPI спецификации
- **API**: 
  - Hasura GraphQL Engine для GraphQL API
  - NestJS для REST API
  - WebSockets для будущей поддержки реального времени
- **База данных**: PostgreSQL для хранения данных блокчейна
- **Индексация**: Squid SDK для обработки блоков и транзакций
- **Блокчейн**: Подключение к нодам QFN через RPC

## Следующие шаги

После изучения этой документации следующим шагом будет:

1. Настройка окружения разработки
2. Создание базовой структуры проекта
3. Подключение к QF DevNet для тестирования
4. Разработка базовых компонентов согласно упрощенному плану
5. Итерационное улучшение прототипа

