# 3.1 Architecture Overview

```
+-----------------------------------------------------------------------+
|                          User Interface (UI)                          |
|         (React/Next.js, Mobile Apps, or 3rd-Party Consumers)         |
+-----------------------------------------------------------------------+
                                 |
                                 | (GraphQL/WebSockets/REST)
                                 ▼
+-----------------------------------------------------------------------+
|                       Hasura GraphQL & APIs                          |
|       (Auto-generated schema, real-time subscriptions, rate limiting) |
+-----------------------------------------------------------------------+
                                 |
                                 |
                                 ▼
+-----------------------------------------------------------------------+
|                   PostgreSQL Database (Explorer Data)                 |
|            (Blocks, Txs, Events, Accounts, Staking, Contracts)        |
+-----------------------------------------------------------------------+
                                 |
                                 |
                                 ▼
+-----------------------------------------------------------------------+
|                        Squid SDK Indexer Layer                        |
|      (Subscribes to QFN, processes blocks & extrinsics, stores in DB) |
+-----------------------------------------------------------------------+
                                 |
                                 |
                                 ▼
+-----------------------------------------------------------------------+
|                   QFN Nodes & Polkadot Finality Data                  |
|         (0.1s blocks, NPoS staking, SPIN consensus, Polkadot bridging)|
+-----------------------------------------------------------------------+
```

## Технологический стек проекта

### Фронтенд (Уровень 1)
- **React/Next.js с FSD** - для создания пользовательского интерфейса с Feature-Sliced Design архитектурой
- **TypeScript** - для типизированной разработки
- **GraphQL-клиент** - для коммуникации с API

### API слой (Уровень 2)
- **NestJS** - основной фреймворк для бэкенда
- **Hasura GraphQL Engine** - для автоматической генерации API
- **Поддержка реального времени** - через веб-сокеты (планируется для будущих версий)
- **Базовая защита** - CORS и rate limiting в первой фазе
- **Расширенная безопасность** - JWT авторизация и защита маршрутов (добавляется во второй фазе)

### База данных (Уровень 3)
- **PostgreSQL** - для хранения всех данных блок-эксплорера
- **Схема данных включает**: блоки, транзакции, события, аккаунты, стейкинг, контракты

### Индексация (Уровень 4)
- **Squid SDK** - для индексации данных блокчейна
- **Обработчики** - для обработки блоков и экстринзиков (транзакций)
- **Хранение** - для сохранения обработанных данных в PostgreSQL

### Блокчейн (Уровень 5)
- **QFN ноды** - подключение к сети QF Network
- **Polkadot Finality Data** - данные финализации в формате Polkadot
- **Характеристики сети**: 0.1с блоки, NPoS стейкинг, SPIN консенсус, интеграция с Polkadot

## План реализации

Основной подход: реализация снизу вверх

1. Подключение к QFN нодам через Squid SDK
2. Настройка индексации базовых данных (блоки, транзакции)
3. Создание схемы PostgreSQL
4. Настройка Hasura GraphQL
5. Разработка фронтенда на Next.js с TypeScript и FSD архитектурой 